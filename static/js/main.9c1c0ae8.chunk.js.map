{"version":3,"sources":["Profile.js","Signin.js","Game.js","App.js","index.js"],"names":["avatarFallbackImage","Component","Signin","React","props","_this2","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","RingBuffer","require","state","tick","brightness","soliloquyRB","enq","setState","handleSignIn","react_default","a","createElement","className","id","onClick","bind","Action","type","hidden","disabled","actionText","Inventory","createTable","_this","show","Actionz","table","transitions","_loop","i","children","push","onTransition","length","Dialog","_this3","peekN","size","concat","Game","_this4","StateMachine","workEndTick","brightnessTick","dimRate","team","a simple search engine","a humble book store","a tiny social network","monetize users","contribute","engineers","frontend","backend","optimization","contributors","loan","amount","interestPct","lastState","saveEnabled","contributeEndTick","codeXP","money","users","adoptionRate","tippingPoint","worked","gameData","fsm","init","name","from","to","handleBSWork","methods","onBrighten","handleBrightness","onCode","handleCode","onEnterInventory","handleInventory","onHire a frontend engineer","handleHire","onHire a backend engineer","onHire an optimization engineer","onCode a simple search engine","handleWork","onCode a humble book store","onCode a tiny social network","onCreate a simple, modern frontend","handleSearchWork","onCreate a robust backend","onOptimization!","onMonetize users","handleMonetization","onBlockstack","handleContribute","onEthereum","onBitcoin","assertThisInitialized","intervalHandle","setInterval","console","log","baseState","project","loc","monetization","position","engineer","optimizationLevel","window","_i2","_Object$entries2","entries","_ref6","_ref5","slicedToArray","count","alert","selectWork","locRequirement","userSession","backupFSM","JSON","stringify","putFile","_this5","getFile","then","file","parse","finally","restoreGame","brightnessChange","saveGame","_this6","handleSignOut","resetGame","Game_Actionz","handleTransition","Game_Inventory","data","Helmet","Game_Dialog","appConfig","AppConfig","UserSession","App","e","preventDefault","redirectToSignIn","signUserOut","location","origin","isUserSignedIn","Game_Game","Signin_Signin","isSignInPending","handlePendingSignIn","userData","history","replaceState","document","title","ReactDOM","render","BrowserRouter","App_App","getElementById"],"mappings":"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","file":"static/js/main.9c1c0ae8.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Person,\n} from 'blockstack';\n\nconst avatarFallbackImage = 'https://s3.amazonaws.com/onename/avatar-placeholder.png';\n\nexport default class Profile extends Component {\n  constructor(props) {\n  \tsuper(props);\n\n  \tthis.state = {\n  \t  person: {\n  \t  \tname() {\n          return 'Anonymous';\n        },\n  \t  \tavatarUrl() {\n  \t  \t  return avatarFallbackImage;\n  \t  \t},\n  \t  },\n  \t};\n  }\n\n  render() {\n    const { handleSignOut, userSession } = this.props;\n    const { person } = this.state;\n    return (\n      !userSession.isSignInPending() ?\n      <div className=\"panel-welcome\" id=\"section-2\">\n        <div className=\"avatar-section\">\n          <img src={ person.avatarUrl() ? person.avatarUrl() : avatarFallbackImage } className=\"img-rounded avatar\" id=\"avatar-image\" alt=\"\"/>\n        </div>\n        <h1>Hello, <span id=\"heading-name\">{ person.name() ? person.name() : 'Nameless Person' }</span>!</h1>\n        <br></br>\n        <br></br>\n        <p className=\"lead\">\n          <button\n            className=\"btn btn-primary btn-lg\"\n            id=\"signout-button\"\n            onClick={ handleSignOut.bind(this) }\n          >\n            Logout\n          </button>\n          <br></br>\n          <br></br>\n          <button\n            className=\"btn btn-primary btn-lg\"\n            id=\"brightness-up-button\"\n          >\n            <span role=\"img\" aria-label=\"Brightness Up\">ðŸ”†</span>\n          </button>\n        </p>\n      </div> : null\n    );\n  }\n\n  componentWillMount() {\n    const { userSession } = this.props;\n    this.setState({\n      person: new Person(userSession.loadUserData().profile),\n    });\n  }\n}\n","import React, { Component } from 'react';\nimport { Helmet } from \"react-helmet\";\nclass Dialog extends React.Component {\n    createTable = () => {\n        let table = []\n\n        // Outer loop to create parent\n        let soliloquyRB = this.props.soliloquyRB.peekN(this.props.soliloquyRB.size());\n        for (let i = this.props.soliloquyRB.size() - 1; i >= 0; i--) {\n            let children = []\n            children.push(<td>{`${soliloquyRB[i]}`}</td>)\n            table.push(<tr>{children}</tr>)\n        }\n        return table\n    }\n\n    render() {\n        return (\n            <table>\n                {this.createTable()}\n            </table>\n        )\n    }\n}\n\nexport default class Signin extends Component {\n  constructor(props){\n    super(props);\n\n    var RingBuffer = require('ringbufferjs');\n\n    this.state = {\n        tick: 0,\n        brightness: 0, \n        soliloquyRB: new RingBuffer(6),\n    };\n  }\n\n  tick(){\n    let tick = this.state.tick;\n    let soliloquyRB = this.state.soliloquyRB;\n\n    if (tick === 1) {\n      soliloquyRB.enq(\"Eyes are tired.\");\n    }\n    else if (tick === 3) {\n      soliloquyRB.enq(\"Screen is dim.\");\n    }\n    else if (tick === 7) {\n      soliloquyRB.enq(\"Can't see.\");\n    }\n\n    this.setState({\n      tick: tick,\n      soliloquyRB: soliloquyRB,\n    })\n  }\n\n  render() {\n    const { handleSignIn } = this.props;\n    let soliloquyRB = this.state.soliloquyRB;\n\n    return (\n      <div>\n        <div className=\"signintop\"></div>\n        <div className=\"signin\">\n            { <button\n              className=\"btn btn-sm\"\n              id=\"signin-button\"\n              onClick={ handleSignIn.bind(this) }\n            >\n              Sign In with Blockstack\n            </button> }\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Helmet } from \"react-helmet\";\n\nfunction Action(props) {\n    return (\n        <button type=\"button\" className=\"action\" hidden={props.hidden} disabled={props.disabled} onClick={props.onClick}>\n            {props.actionText}\n        </button>\n    )\n}\n\nclass Inventory extends React.Component {\n    createTable = () => {\n        if(this.props.show){\n            let table = []\n            let state = this.props.state;\n\n            if(false){\n                for (const [key, value] of Object.entries(state)) {\n                    let children = []\n                    children.push(<td>OHAI</td>)\n                    //    {key}: {value}\n                    table.push(<tr>{children}</tr>)\n                }\n            }\n            return table\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <table>\n                    {this.createTable()}\n                </table>\n            </div>\n        )\n    }\n}\n\nclass Actionz extends React.Component {\n    createTable = () => {\n        let table = []\n\n        // Outer loop to create parent\n        let transitions = this.props.transitions;\n        for (let i = 0; i < transitions.length; i++){\n            let children = []\n            // if((this.props.hidden[transitions[i]] == 'null') && (this.props.hidden[transitions[i]] != false)){\n            // if(this.props.hidden[transitions[i]] !== true) {\n                // Inner loop to create children\n                children.push(<td>\n                    <Action\n                        actionText={transitions[i]}\n                        onClick={() => this.props.onTransition(transitions[i])}\n                        hidden={this.props.hidden[transitions[i]] ? \"true\" : \"\"}\n                        disabled={this.props.disabled[transitions[i]] ? \"true\" : \"\"}\n                    /></td>)\n                //Create the parent and add the children\n                table.push(<tr>{children}</tr>)\n            }\n        // }\n        return table\n    }\n\n    render() {\n        return (\n            <div>\n                <table>\n                    {this.createTable()}\n                </table>\n            </div>\n        )\n    }\n}\n\nclass Dialog extends React.Component {\n    createTable = () => {\n        let table = []\n\n        // Outer loop to create parent\n        let soliloquyRB = this.props.soliloquyRB.peekN(this.props.soliloquyRB.size());\n        for (let i = this.props.soliloquyRB.size() - 1; i >= 0; i--) {\n            let children = []\n            children.push(<td>{`${soliloquyRB[i]}`}</td>)\n            table.push(<tr>{children}</tr>)\n        }\n        return table\n    }\n\n    render() {\n        return (\n            <table>\n                {this.createTable()}\n            </table>\n        )\n    }\n}\n\n\nexport default class Game extends Component {\n    constructor(props){\n        super(props);\n\n        var RingBuffer = require('ringbufferjs');\n        var StateMachine = require('javascript-state-machine');\n\n        this.state = {\n            tick: 0,\n            workEndTick: 0,\n            brightnessTick: 0,\n            brightness: 30, \n            dimRate: -0.3, \n            soliloquyRB: new RingBuffer(6),\n            hidden: {'team':true, 'a simple search engine':true, 'a humble book store':true, 'a tiny social network':true, 'monetize users': true, 'contribute':true},\n            disabled: {},\n            engineers: {'frontend':0, 'backend':0, 'optimization':0},\n            contributors: 0,\n            loan: {'amount': 0, 'interestPct': 30},\n            lastState: 'home',\n            saveEnabled: false,\n            contributeEndTick: 0,\n            codeXP: 0,\n            money: 0,\n            users: 0,\n            adoptionRate: 1,\n            tippingPoint: false,\n            worked: false,\n            gameData: 0,\n\n            fsm: new StateMachine({\n                init: 'home',\n                transitions: [\n                    /* Transitions */\n                    { name: 'a quiet room', from: 'home', to: 'quiet' },\n                    { name: 'inventory', from: 'home', to: 'inventory' },\n                    { name: 'work', from: 'home', to: 'work'},\n                    { name: 'contribute', from: 'home', to: 'contribute'},\n                    { name: 'team', from: 'home', to: 'team' },\n                    { name: \"code a simple search engine\", from: 'work', to: 'work'},\n                    { name: \"a simple search engine\", from: 'work', to: 'search'},\n                    // { name: \"code a humble book store\", from: 'work', to: 'work'},\n                    { name: \"a humble book store\", from: 'work', to: 'book'},\n                    // { name: \"code a tiny social network\", from: 'work', to: 'work'},\n                    { name: \"a tiny social network\", from: 'work', to: 'social'},\n                    { name: \"code for some BS temp job\", from: 'work', to: 'bs' },\n                    /* Going back */\n                    { name: 'back', from: ['quiet','inventory','work','search','book', 'social', 'team', 'bs', 'contribute'], to: 'home' },\n                    /* Actions, implemented as state transitions to self */\n                    { name: 'brighten', from: 'home', to: 'home' },\n                    { name: 'code', from: 'quiet', to: 'quiet' },\n                    { name: 'blockstack', from: 'contribute', to: 'contribute' },\n                    { name: 'ethereum', from: 'contribute', to: 'contribute' },\n                    { name: 'bitcoin', from: 'contribute', to: 'contribute' },\n                    { name: 'fix legacy code', from: 'bs', to: () => {this.handleBSWork(); return 'bs'}},\n                    { name: 'write more lolcode', from: 'bs', to: () => {this.handleBSWork(); return 'bs'}},\n                    { name: 'compile', from: 'bs', to: () => {this.handleBSWork(); return 'bs'}},\n                    { name: 'add another layer of abstraction', from: 'bs', to: () => {this.handleBSWork(); return 'bs'}},\n                    { name: 'hire a frontend engineer', from: 'team', to: 'team' },\n                    { name: 'hire a backend engineer', from: 'team', to: 'team' },\n                    { name: 'hire an optimization engineer', from: 'team', to: 'team' },\n                    { name: 'create a simple, modern frontend', from: 'search', to: 'search' },\n                    { name: 'create a robust backend', from: 'search', to: 'search' },\n                    { name: 'optimization!', from: 'search', to: 'search' },\n                    { name: 'monetize users', from: 'search', to: 'search'},\n                ],\n                methods: {\n                    onBrighten: () => this.handleBrightness(20),\n                    onCode: () => this.handleCode(),\n                    onEnterInventory: () => this.handleInventory(),\n                    \"onHire a frontend engineer\": () => this.handleHire(\"frontend\"),\n                    \"onHire a backend engineer\": () => this.handleHire(\"backend\"),\n                    \"onHire an optimization engineer\": () => this.handleHire(\"optimization\"),\n                    \"onCode a simple search engine\": () => this.handleWork('search'),\n                    \"onCode a humble book store\": () => this.handleWork('book'),\n                    \"onCode a tiny social network\": () => this.handleWork('social'),\n                    \"onCreate a simple, modern frontend\": () => this.handleSearchWork('frontend'),\n                    \"onCreate a robust backend\": () => this.handleSearchWork('backend'),\n                    \"onOptimization!\": () => this.handleSearchWork('optimization'),\n                    \"onMonetize users\": () => this.handleMonetization(),\n                    onBlockstack: () => this.handleContribute('blockstack'),\n                    onEthereum: () => this.handleContribute('ethereum'),\n                    onBitcoin: () => this.handleContribute('bitcoin'),\n                }\n            }),\n        }\n\n        this.tick = this.tick.bind(this);\n        this.intervalHandle = setInterval(this.tick, 1000);\n\n        // preserve the initial state in a new object\n        console.log(\"SAVED BASE STATE\");\n        this.baseState = this.state \n\n        // Uncomment me for vizualization! Then execute dot -Tps derp.dot -o graph.ps \n        // var visualize = require('javascript-state-machine/lib/visualize');\n        // console.log(visualize(this.state.fsm));\n    }\n\n    handleContribute(project){\n        let loc = this.state.codeXP;\n        let soliloquyRB = this.state.soliloquyRB;\n        let contributors = this.state.contributors;\n        let dimRate = this.state.dimRate;\n        let contributeEndTick = this.state.contributeEndTick;\n        let tick = this.state.tick;\n        let disabled = this.state.disabled;\n\n        switch(project){\n            case 'blockstack':\n            {\n                let locRequirement = 500;\n                if(loc >= locRequirement){\n                    disabled[project] = true;\n                    loc -= locRequirement;\n                    // soliloquyRB.enq(\"Built a really bad game on Blockstack...and had fun!\");\n                    soliloquyRB.enq(\"*really bad game on Blockstack goes viral*\");\n                    contributors += 50;\n                }\n                else{\n                    soliloquyRB.enq(\"Not enough code...\"); \n                    soliloquyRB.enq(\"Need \" + (locRequirement - loc) + \" LOC.\");\n                }\n                break;\n            }\n            case 'ethereum':\n            {\n                let locRequirement = 5000;\n                if(loc >= locRequirement){\n                    disabled[project] = true;\n                    loc -= locRequirement;\n                    soliloquyRB.enq(\"VB: Thanks for everything youâ€™ve done, dad.\");\n                    contributors += 1000;\n                }\n                else{\n                    soliloquyRB.enq(\"Not enough code...\"); \n                    soliloquyRB.enq(\"Need \" + (locRequirement - loc) + \" LOC.\");\n                }\n\n                break;\n            }\n            case 'bitcoin':\n            {\n\n                let locRequirement = 50000;\n                if(loc >= locRequirement){\n                    disabled[project] = true;\n                    loc -= locRequirement;\n                    contributors += 10000;\n                    contributeEndTick = tick;\n                }\n                else{\n                    soliloquyRB.enq(\"Not enough code...\"); \n                    soliloquyRB.enq(\"Need \" + (locRequirement - loc) + \" LOC.\");\n                }\n                break;\n            }\n\n            default:\n            {\n                break;\n            }\n        }\n\n        this.setState({\n            soliloquyRB: soliloquyRB,\n            codeXP: loc,\n            contributors: contributors,\n            dimRate: dimRate,\n            contributeEndTick: contributeEndTick,\n            disabled: disabled,\n        })\n    }\n\n    handleBSWork(){\n        let loc = this.state.codeXP;\n        let money = this.state.money;\n        let soliloquyRB = this.state.soliloquyRB;\n        let worked = this.state.worked;\n\n        const reqLOC = 10;\n        const reward = 5;\n\n        if(loc >= reqLOC){\n            worked = true;\n            money += reward;\n            loc -= reqLOC;\n            soliloquyRB.enq(\"Unfulfilling work done. Got $\" + reward);\n        }\n        else {\n            soliloquyRB.enq(\"Not enough code...\"); \n            soliloquyRB.enq(\"Need \" + (reqLOC - loc) + \" LOC.\");\n        }\n \n        this.setState(\n        {\n            codeXP: loc,\n            money: money,\n            soliloquyRB: soliloquyRB,\n            worked: worked,\n        });\n    }\n\n    handleMonetization(){\n        let money = this.state.money;\n        let monetization = (this.state.users * 5);\n        let adoptionRate = this.state.adoptionRate;\n        console.log(\"Got money for having users: \" + monetization);\n\n        money += monetization;\n\n        this.setState({\n            money:money,\n            adoptionRate: adoptionRate - 10,\n        });\n    }\n\n    handleHire(position){\n        let soliloquyRB = this.state.soliloquyRB;\n        let money = this.state.money;\n        let engineers = this.state.engineers;\n        let cost = 100;\n\n        if(money >=  cost)\n        {\n            switch(position){\n                case \"frontend\": \n                {\n                    soliloquyRB.enq(\"Frontend Engineer hired at rate of $108/hr!\");\n                    engineers[position] += 1;\n                    break;\n                }\n                case \"backend\": \n                {\n                    soliloquyRB.enq(\"Backend Engineer hired at rate of $108/hr!\");\n                    engineers[position] += 1;\n                    break;\n                }\n                case \"optimization\": \n                {\n                    soliloquyRB.enq(\"Optimization Engineer hired at rate of $108/hr!\");\n                    engineers[position] += 1;\n                    break;\n                }\n\n                default:\n                {\n                    soliloquyRB.enq(\"Not hiring at the moment!\");\n                }\n            }\n        }\n        else{\n            soliloquyRB.enq(\"Too poor to hire. Need $\" + (cost - money)+\". Consider a temp job.\");\n        }\n\n        this.setState({\n            soliloquyRB: soliloquyRB,\n            engineers: engineers,\n            money: money,\n        });\n    }\n\n    handleSearchWork(position) {\n        let engineer = this.state.engineers[position];\n        let money = this.state.money;\n        let optimizationLevel = this.state.optimizationLevel;\n        let soliloquyRB = this.state.soliloquyRB;\n        let disabled = this.state.disabled;\n        let requirement = 1;\n\n        if (engineer >= requirement) {\n            switch(position){\n                case 'backend':\n                {\n                    disabled['create a robust backend'] = true;\n                    soliloquyRB.enq(\"This thing is built like a tank, ready for war. Now how are we going to pay for all this...?\")\n                    break;\n                }\n                case 'frontend':\n                {\n                    disabled['create a simple, modern frontend'] = true;\n                    soliloquyRB.enq(\"NOICE. A simple, modern frontend has been built. Soon we'll need a marketing team...\")\n                    break;\n                }\n                case 'optimization':\n                {\n                    let optimizeCost = -10;\n\n                    if(money >= optimizeCost){\n                        soliloquyRB.enq(\"$: \" + optimizeCost);\n                        soliloquyRB.enq(\"Throw money and an engineer at the problem. That'll fix it.\")\n                        money += optimizeCost;\n                        optimizationLevel += 1;\n                    }\n                    else{\n                        soliloquyRB.enq(\"Need more money! $\" + (optimizeCost - money) + \" to be exact.\");\n                    }\n                    break;\n                }\n                default:\n                {\n                    soliloquyRB.enq(\"Oops. There's no work for the \" + position + \" position...\");\n                    break;\n                }\n            }\n        }\n        else {\n            soliloquyRB.enq(\"Need \" + (requirement - engineer) + \" \" + position + \" engineers on your team!\");\n        }\n\n        this.setState({\n            disabled: disabled,\n            soliloquyRB: soliloquyRB,\n            money: money,\n            optimizationLevel: optimizationLevel,\n        });\n    }\n\n\n    tick(){\n        // If this is anything like an embedded system...shouldn't run code in an interrupt handler. \n        // However, I've found that using the tick value isn't \"thread safe\" unless I update logic\n        let soliloquyRB= this.state.soliloquyRB;\n        let tick = this.state.tick;\n        let workEndTick = this.state.workEndTick;\n        let money = this.state.money;\n        let users = this.state.users;\n        let brightness = this.state.brightness;\n        let dimRate = this.state.dimRate;\n        let adoptionRate = this.state.adoptionRate;\n        let tippingPoint = this.state.tippingPoint;\n        let disabled = this.state.disabled;\n        let engineers = this.state.engineers;\n        let loan = this.state.loan;\n        let hidden = this.state.hidden;\n        let contributors = this.state.contributors;\n        let loc = this.state.codeXP;\n        let contributeEndTick = this.state.contributeEndTick;\n        let saveEnabled = this.state.saveEnabled;\n\n        if(tick === 1){\n            soliloquyRB.enq(\"Eyes are tired.\");\n        }\n        else if(tick === 3) {\n            soliloquyRB.enq(\"Screen is dim.\");\n        }\n        else if(tick === 7) {\n            soliloquyRB.enq(\"Can't see.\");\n        }\n        else if(tick === 2){\n            saveEnabled = true;\n        }\n\n        if(contributors > 0){\n            loc += (contributors);\n\n            if(contributeEndTick > 0){\n                disabled['brighten'] = true;\n\n                if (tick === (contributeEndTick + 2)) {\n                    soliloquyRB.enq(\"SN: I'm not in this for the glory...son.\");\n                }\n                else if (tick === (contributeEndTick + 5)) {\n                    soliloquyRB.enq(\"SN: I'm here to make a difference.\");\n                }\n                else if (tick === (contributeEndTick + 10)) {\n                    soliloquyRB.enq(\"SN: My eyes are tired now, and I must rest...\");\n                    dimRate += -3;\n                }\n                else if (tick === (contributeEndTick + 13)) {\n                    soliloquyRB.enq(\"*\" + contributors + \" contributors continue BUIDLing*\");\n                }\n            }\n        }\n\n        if(engineers in window){\n            for (const [position, count] of Object.entries(engineers)) {\n                const ongoingCost = -0.3;\n                if(count !== 0){\n                    if(money > ongoingCost){\n                        money += (ongoingCost * count);\n                    }\n                    else{\n                        if(!tippingPoint){\n                            loan.amount += 1000;\n                            soliloquyRB.enq(\"Ran out of money.\");\n                            soliloquyRB.enq(\"Took a loan for \" + loan.amount + \" @ \" + loan.interestPct + \"% to make payroll for \" + position +  \"...will pay interest.\");\n                            soliloquyRB.enq(\"Need to start making money...the pressure is immense!\");\n                            money += loan.amount;\n                        }\n                        else{\n                            money = 0;\n                        }\n                    }\n                }\n            }\n        }\n\n        if(loan.amount > 0){\n            let annualCost = ((loan.amount) * (loan.interestPct)) / 100; // interest-only payments\n            let ongoingCost = annualCost / (52 * 40);\n            money -= ongoingCost;\n        }\n\n        let userRequirement = (this.state.engineers['frontend'] > 3);\n        if(userRequirement) {\n            users += adoptionRate;\n            adoptionRate += 1;\n        }\n        if(users === 1){\n            alert(\"Got our first user! Time to monetize on them...\");\n            delete hidden['monetize users'];\n        }\n\n        if(users > 1000){\n            if(!tippingPoint)\n            {\n                soliloquyRB.enq(\"Reached the tipping point for number of users! We can't fail now.\");\n            }\n            tippingPoint = true;\n        }\n\n        if(tippingPoint){\n            adoptionRate -= 0.5;\n            if(users <= 0){\n                users = 0;\n            }\n\n            if((money <= 0) && (workEndTick === 0)){\n                workEndTick = tick;\n                disabled['brighten'] = true;\n            }\n\n            if (tick === (workEndTick + 3)) {\n                soliloquyRB.enq(\"Canâ€™t pay employees...\");\n            }\n            else if (tick === (workEndTick + 5)) {\n                soliloquyRB.enq(\"...the bank owns everything.\");\n            }\n            else if (tick === (workEndTick + 7)) {\n                soliloquyRB.enq(\"Won't give us any more money.\");\n            }\n            else if (tick === (workEndTick + 10)) {\n                soliloquyRB.enq(\"Lost the trust of the users.\");\n            }\n            else if (tick === (workEndTick + 13)) {\n                soliloquyRB.enq(\"Took advantage of them.\");\n            }\n            else if (tick === (workEndTick + 16)) {\n                soliloquyRB.enq(\"Canâ€™t even afford my electricity bill...\");\n                dimRate += -3;\n            }\n        }\n\n        brightness += dimRate;\n        if(brightness <= 0){\n            brightness = 0;\n        }\n\n        this.setState({\n           tick: this.state.tick + 1,\n           workEndTick: workEndTick,\n           brightnessTick: this.state.brightnessTick + 1,\n           dimRate: dimRate,\n           brightness: brightness,\n           users: users,\n           adoptionRate: adoptionRate,\n           tippingPoint: tippingPoint,\n           money: money,\n           codeXP: loc,\n           saveEnabled: saveEnabled,\n        });\n    }\n\n    handleInventory(){\n        let soliloquyRB = this.state.soliloquyRB;\n        let users = this.state.users;\n\n        if((users > 0) || this.state.tippingPoint) soliloquyRB.enq(\"users: \" + this.state.users);\n        soliloquyRB.enq(\"lines of code: \" + this.state.codeXP);\n        soliloquyRB.enq(\"$: \" + this.state.money);\n        //TODO: Only show as earned...\n        // soliloquyRB.enq(\"backend engineers: \" + this.state.codeXP);\n\n        this.setState({\n            soliloquyRB: soliloquyRB,\n        })\n    }\n\n    handleBookstore(){\n    }\n\n    handleSocialNetwork(){\n    }\n\n    handleWork(selectWork){\n        let soliloquyRB = this.state.soliloquyRB;\n        let codeXP = this.state.codeXP;\n        let money = this.state.money;\n        let hidden = this.state.hidden;\n        let worked = this.state.worked;\n\n        const reqLOC = 30;\n        const reward = 5;\n\n        if(this.state.codeXP >= reqLOC){\n            worked = true;\n            switch(selectWork){\n                case 'book':\n                {\n                    soliloquyRB.enq(\"All things start from humble beginnings. Bookstore built!\");\n                    delete hidden['a humble book store'];\n                    hidden['code a humble book store'] = true;\n                    break;\n                }\n                case 'social':\n                {\n                    soliloquyRB.enq(\"Have we reached the tipping point yet? Tiny social network built!\");\n                    delete hidden['a tiny social network'];\n                    hidden['code a tiny social network'] = true;\n                    break;\n                }\n                case 'search':\n                {\n                    soliloquyRB.enq(\"Simplicity at its finest. The `query` function. Simple search engine built!\");\n                    delete hidden['a simple search engine'];\n                    hidden['code a simple search engine'] = true;\n                    break;\n                }\n                default:\n                {\n                    soliloquyRB.enq(selectWork + \" built!\");\n                    break;\n                }\n            }\n            soliloquyRB.enq(\"...can we make it better?\");\n            soliloquyRB.enq(\"Got $\" + reward);\n            codeXP -= reward;\n            money += reward;\n            delete hidden['team'];\n        }\n        else {\n            soliloquyRB.enq(\"Not enough code...\"); \n            soliloquyRB.enq(\"Need \" + (reqLOC - codeXP) + \" LOC.\");\n        }\n\n        this.setState({\n            codeXP: codeXP,\n            money: money,\n            soliloquyRB: soliloquyRB,\n            hidden: hidden,\n            worked: worked,\n        })\n    }\n\n\n    handleSimpleSearchEngine(selectWork){\n        let soliloquyRB = this.state.soliloquyRB;\n        let codeXP = this.state.codeXP;\n        let money = this.state.money;\n        let hidden = this.state.hidden;\n\n        const searchEngineLOC = 30;\n        const reward = 5;\n        console.log(\"handleSimpleSearchEngine!\");\n\n        if(this.state.codeXP >= searchEngineLOC){\n            soliloquyRB.enq(selectWork + \" built!\");\n            soliloquyRB.enq(\"$: +\" + reward);\n            soliloquyRB.enq(\"...can we make it better?\");\n            codeXP -= reward;\n            money += reward;\n            delete hidden['team'];\n            delete hidden['a simple search engine'];\n            hidden['code a simple search engine'] = true; // hide code a simple search, replace with a simple search\n        }\n        else {\n            soliloquyRB.enq(\"Not enough code...\"); \n            soliloquyRB.enq(\"Need \" + (searchEngineLOC - codeXP) + \" LOC.\");\n        }\n\n        this.setState({\n            codeXP: codeXP,\n            money: money,\n            soliloquyRB: soliloquyRB,\n            hidden: hidden,\n        })\n    }\n\n    handleCode(){\n        let soliloquyRB = this.state.soliloquyRB;\n        let worked = this.state.worked;\n        let loc = this.state.codeXP;\n        let contributors = this.state.contributors;\n        let locRequirement = ((contributors + 1) * 100);\n        let hidden = this.state.hidden;\n        let reward = 5;\n\n\n        loc += reward;\n        const status= \"lines of code: +\" + reward;\n        soliloquyRB.enq(status);\n\n        if(!worked && (loc >= locRequirement))\n        {\n            if(contributors > 0)\n            {\n                contributors += 1;\n                soliloquyRB.enq(\"Another contributor joins the team\");\n            }\n            else\n            {\n                contributors += 1;\n                hidden['work'] = true;\n                delete hidden['contribute'];\n                alert(\"A contributor joins the team!\");\n            }\n        }\n\n        this.setState({\n            codeXP: loc,\n            soliloquyRB: soliloquyRB,\n            contributors,\n        })\n    }\n\n    handleTransition(name){\n        if (typeof this.state.fsm[`${name}`] === \"function\")\n        {\n            this.state.fsm[`${name}`]();\n        }\n        else {\n            console.log(\"function '\" + name + \"' is invalid!\");\n        }\n    }\n\n    saveGame() {\n        const { userSession } = this.props\n        this.setState({\n            lastState: this.state.fsm.state,\n        })\n\n        let gameData = this.state;\n        let backupFSM = this.state.fsm;\n        delete gameData.fsm;\n        console.log(\"Writing gameData: \" + JSON.stringify(gameData));\n        userSession.putFile('a-dark-room.json', JSON.stringify(gameData));\n        this.setState({\n            fsm: backupFSM,\n        })\n    }\n\n    restoreGame() {\n        const { userSession } = this.props\n\n        console.log(\"Reading gameData...\");\n\n        userSession.getFile('a-dark-room.json')\n            .then((file) => {\n                var gameData = JSON.parse(file || '[]')\n                console.log(\"Restore: \" + file);\n                delete gameData.soliloquyRB; // doesn't like to be restored\n                this.setState(gameData);\n            })\n            .finally(() => {\n                console.log(\"Done restoring\");\n            })\n    }\n\n    resetGame(){\n        this.setState(this.baseState);\n    }\n\n    componentDidMount() {\n        this.restoreGame()\n    }\n\n    handleBrightness(brightnessChange) {\n        let brightness = this.state.brightness;\n        let soliloquyRB = this.state.soliloquyRB;\n        let brightnessTick = this.state.brightnessTick;\n        let saveEnabled = this.state.saveEnabled;\n\n        if((brightness + brightnessChange) <= 0){\n            brightness = 0;\n        }\n        else {\n            if(brightnessTick >= 3)\n            {\n                if(saveEnabled){\n                    this.saveGame();\n                    soliloquyRB.enq(\"game saved.\")\n                }\n\n                brightness += brightnessChange;\n                brightnessTick = 0;\n            }\n        }\n\n        this.setState({\n            brightness: brightness,\n            brightnessTick: brightnessTick,\n            soliloquyRB: soliloquyRB,\n        });\n    }\n\n    render() {\n        const soliloquyRB= this.state.soliloquyRB;\n\n        return (\n            <div className=\"game-area\">\n                <div className=\"game\">\n                    <button\n                        className=\"btn btn-sm\"\n                        id=\"signout-button\"\n                        onClick={this.props.handleSignOut.bind(this)}\n                    >\n                        logout\n                    </button>\n                    <button\n                        className=\"btn btn-sm\"\n                        id=\"signout-button\"\n                        onClick={() => this.resetGame()}\n                    >\n                        reset\n                    </button>\n                </div>\n                <div className=\"actions\">\n                    <Actionz\n                        transitions={this.state.fsm.transitions()}\n                        hidden={this.state.hidden}\n                        disabled={this.state.disabled}\n                        onTransition={(name) => this.handleTransition(name)}\n                    />\n                    <Inventory\n                        show={(this.state.fsm.state === 'inventory')}\n                        data={this.state}\n                    />\n                </div>\n\n                <div className=\"soliloquy\">\n                    <Helmet>\n                        <style>{`\n                            :root {\n                                --primary-lightness: ${this.state.brightness}%;\n                                }\n                            `}\n                        </style>\n                    </Helmet>\n                     <Dialog \n                         soliloquyRB={soliloquyRB}\n                     />\n                </div>\n            </div>\n        );\n    }\n}\n\n","import React, { Component } from 'react';\nimport Profile from './Profile.js';\nimport Signin from './Signin.js';\nimport Game from './Game.js';\nimport {\n  UserSession,\n  AppConfig\n} from 'blockstack';\n\nconst appConfig = new AppConfig()\nconst userSession = new UserSession({ appConfig: appConfig })\n\nexport default class App extends Component {\n  constructor(props){\n    super(props);\n  }\n\n  handleSignIn(e) {\n    e.preventDefault();\n    userSession.redirectToSignIn();\n  }\n\n  handleSignOut(e) {\n    e.preventDefault();\n    userSession.signUserOut(window.location.origin);\n  }\n\n  render() {\n    return (\n      <div className=\"site-wrapper\">\n        <div className=\"site-wrapper-inner\">\n          {!userSession.isUserSignedIn() ?\n            <Signin userSession={userSession} handleSignIn={this.handleSignIn} />\n            : <Game userSession={userSession} handleSignOut={this.handleSignOut} />\n          }\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    if (userSession.isSignInPending()) {\n      userSession.handlePendingSignIn().then((userData) => {\n        window.history.replaceState({}, document.title, \"/\")\n        this.setState({ userData: userData})\n      });\n    }\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App.js';\n\n// Require Sass file so webpack can build it\nimport 'bootstrap/dist/css/bootstrap.css';\nimport'./styles/style.css';\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));"],"sourceRoot":""}